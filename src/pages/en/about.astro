---
import { getCollection } from "astro:content";
import { Picture } from "astro:assets";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import AchievementsWall from "@components/AchievementsWall.astro";
import FeatureSection from "@components/FeatureSection.astro";

// 1. 导入你的图片
import auditImage from "@assets/audit.png";
import fuzzingImage from "@assets/fuzzing.png";
import advisoryImage from "@assets/advisory.png";

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection("team", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});


// 2. 准备要传入的数据
const homePageAchievements = [
  {
    icon: 'mdi:bug-check-outline',
    value: '500+',
    label: 'Vulnerabilities Discovered',
    description: 'Identified and responsibly disclosed over 500 critical vulnerabilities across various platforms through our security research and audits.'
  },
  {
    icon: 'mdi:shield-check-outline',
    value: '50+',
    label: 'Projects Secured',
    description: 'Successfully completed in-depth security audits and consulting for over 50 projects, from Web3 startups to enterprise applications.'
  },
  {
    icon: 'mdi:lightbulb-on-outline',
    value: '10+',
    label: 'Tools & PoCs Developed',
    description: 'Developed more than 10 proprietary security tools and proof-of-concepts, enhancing our fuzzing and analysis capabilities.'
  }
];
// 准备中文数据
const homePageAchievements_zh = [
  {
    icon: 'mdi:bug-check-outline',
    value: '500+',
    label: '已发现漏洞',
    description: '通过我们的安全研究和审计，在各种平台中识别并负责任地披露了超过500个关键安全漏洞。'
  },
  {
    icon: 'mdi:shield-check-outline',
    value: '50+',
    label: '已审计项目',
    description: '成功为超过50个项目完成了深度安全审计和咨询，涵盖Web3初创公司到企业级应用。'
  },
  {
    icon: 'mdi:lightbulb-on-outline',
    value: '10+',
    label: '自研工具与PoC',
    description: '研发了超过10款自有的安全工具和概念验证，极大地增强了我们的模糊测试与分析能力。'
  }
];


// 2. 准备要传入的数据数组
const aboutFeatures = [
  {
    title: 'In-Depth Security Audits',
    description: 'We go beyond surface-level scans. Our experts manually review your code and architecture to uncover critical vulnerabilities that automated tools often miss, providing you with a clear and actionable report.',
    image: fuzzingImage,
    alt: 'An illustration of a security expert analyzing code on a large screen.',
    features: [
      { icon: 'mdi:code-tags-check', text: 'Comprehensive code review for Web3, Mobile, and Web Apps.' },
      { icon: 'mdi:file-document-outline', text: 'Detailed reporting with prioritized, actionable remediation steps.' }
    ]
  },
  {
    title: 'Continuous Security with Intelligent Fuzzing',
    description: 'Transform your security from a single event to an ongoing process. We deploy our proprietary, AI-enhanced fuzzing tools to continuously hunt for deep, complex bugs in your system, 24/7.',
    image: auditImage,
    alt: 'An illustration of automated robots finding bugs in a complex system.',
    features: [
      { icon: 'mdi:robot-industrial', text: 'Automated, large-scale vulnerability discovery.' },
      { icon: 'mdi:source-commit', text: 'Seamless integration into your DevSecOps pipeline.' }
    ]
  },
  {
    title: 'Strategic Security Advisory',
    description: 'We act as your long-term security partner, helping you design resilient systems, build a strong security culture, and make informed decisions to protect your business as it scales.',
    image: advisoryImage,
    alt: 'An illustration of a team collaborating on a strategic security blueprint.',
    features: [
      { icon: 'mdi:lightbulb-on-outline', text: 'Expert consulting on architecture, threat modeling, and more.' },
      { icon: 'mdi:school-outline', text: 'Customized security training and workshops for your team.' }
    ]
  }
];

---

<Layout title="About">
  <Container>
    <Sectionhead>
      <Fragment slot="title">About us</Fragment>
      <Fragment slot="desc">Evolve · Solve · Accelerate</Fragment>
    </Sectionhead>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-gray-800">
        Driving Progress, Engineered for Efficiency
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        We are a team driven by constant progress. We deliver fundamental solutions by understanding the core of a problem, creating maximum value for our clients through radical efficiency.
      </p>
    </div>
    <!-- <AchievementsWall 
      title="Our Proven Impact"
      achievements={homePageAchievements}
    /> -->
    <FeatureSection data={aboutFeatures} />
    <!--
    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-4xl mt-12">
      {
        publishedTeamMembers.map((teamMemberEntry) => (
          <div class="group">
            <div class="w-full aspect-square">
              <Picture
                src={teamMemberEntry.data.avatar.src}
                alt={teamMemberEntry.data.avatar.alt}
                sizes="(max-width: 800px) 100vw, 400px"
                width={400}
                height={400}
                class="w-full rounded-sm transition group-hover:-translate-y-1 group-hover:shadow-xl bg-white object-cover object-center aspect-square"
              />
            </div>

            <div class="mt-4 text-center">
              <h2 class="text-lg text-gray-800">{teamMemberEntry.data.name}</h2>
              <h3 class="text-sm text-slate-500">
                {teamMemberEntry.data.title}
              </h3>
            </div>
          </div>
        ))
      }
    </div>
    -->
  </Container>
</Layout>
