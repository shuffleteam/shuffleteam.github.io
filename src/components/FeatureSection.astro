---
// src/components/FeatureSection.astro
import { Picture } from "astro:assets";
import { Icon } from "astro-icon/components";

interface FeatureItem {
  icon: string;
  text: string;
}

interface Feature {
  title: string;
  description: string;
  image: ImageMetadata; // 这是Astro处理优化图片的类型
  alt: string;
  features?: FeatureItem[]; // 可选的特性列表
}

interface Props {
  data: Feature[];
}

const { data } = Astro.props;
---

<section class="py-16 md:py-24 bg-white">
  <div class="container mx-auto px-4">
    <div class="space-y-20 md:space-y-28">
      {
        data.map((item, index) => {
          const isOdd = index % 2 !== 0; // 判断是否为奇数项 (0是第一项，偶数)
          return (
            <div class="grid lg:grid-cols-2 lg:gap-16 items-center">
              
              {/* Image Column */}
              <div class:list={[
                "relative",
                { "lg:order-last": isOdd } // 如果是奇数项，图片放在右边
              ]}>
                <Picture
                  src={item.image}
                  alt={item.alt}
                  widths={[400, 800]}
                  sizes="(max-width: 1023px) 100vw, 800px"
                  class="rounded-lg shadow-lg w-full"
                />
              </div>

              {/* Text Content Column */}
              <div class="mt-10 lg:mt-0">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
                  {item.title}
                </h2>
                <p class="text-lg text-slate-600 leading-relaxed mb-8">
                  {item.description}
                </p>
                
                {/* Optional Feature List */}
                {item.features && (
                  <ul class="space-y-4">
                    {item.features.map(feature => (
                      <li class="flex items-start">
                        <div class="flex-shrink-0">
                          <Icon name={feature.icon} class="w-6 h-6 text-indigo-600 mt-1" />
                        </div>
                        <p class="ml-4 text-slate-600">{feature.text}</p>
                      </li>
                    ))}
                  </ul>
                )}
              </div>

            </div>
          );
        })
      }
    </div>
  </div>
</section>